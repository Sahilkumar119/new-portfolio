{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/ladliju/Developer/my-portfolio/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";/**\n * Clean up a scene's materials and geometry\n */export var cleanScene=function cleanScene(scene){scene.traverse(function(object){if(!object.isMesh)return;object.geometry.dispose();if(object.material.isMaterial){cleanMaterial(object.material);}else{var _iterator=_createForOfIteratorHelper(object.material),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var material=_step.value;cleanMaterial(material);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}});scene.dispose();};/**\n * Clean up and dispose of a material\n */export var cleanMaterial=function cleanMaterial(material){material.dispose();for(var _i=0,_Object$keys=Object.keys(material);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];var value=material[key];if(value&&typeof value==='object'&&'minFilter'in value){value.dispose();}}};/**\n * Clean up and dispose of a renderer\n */export var cleanRenderer=function cleanRenderer(renderer){renderer.dispose();renderer.forceContextLoss();renderer=null;};/**\n * Clean up lights by removing them from their parent\n */export var removeLights=function removeLights(lights){var _iterator2=_createForOfIteratorHelper(lights),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var light=_step2.value;light.parent.remove(light);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}};/**\n * A reasonable default pixel ratio\n */export var renderPixelRatio=2;","map":{"version":3,"names":["cleanScene","scene","traverse","object","isMesh","geometry","dispose","material","isMaterial","cleanMaterial","Object","keys","key","value","cleanRenderer","renderer","forceContextLoss","removeLights","lights","light","parent","remove","renderPixelRatio"],"sources":["/home/ladliju/Developer/my-portfolio/src/utils/three.js"],"sourcesContent":["/**\n * Clean up a scene's materials and geometry\n */\nexport const cleanScene = scene => {\n  scene.traverse(object => {\n    if (!object.isMesh) return;\n\n    object.geometry.dispose();\n\n    if (object.material.isMaterial) {\n      cleanMaterial(object.material);\n    } else {\n      for (const material of object.material) {\n        cleanMaterial(material);\n      }\n    }\n  });\n\n  scene.dispose();\n};\n\n/**\n * Clean up and dispose of a material\n */\nexport const cleanMaterial = material => {\n  material.dispose();\n\n  for (const key of Object.keys(material)) {\n    const value = material[key];\n    if (value && typeof value === 'object' && 'minFilter' in value) {\n      value.dispose();\n    }\n  }\n};\n\n/**\n * Clean up and dispose of a renderer\n */\nexport const cleanRenderer = renderer => {\n  renderer.dispose();\n  renderer.forceContextLoss();\n  renderer = null;\n};\n\n/**\n * Clean up lights by removing them from their parent\n */\nexport const removeLights = lights => {\n  for (const light of lights) {\n    light.parent.remove(light);\n  }\n};\n\n/**\n * A reasonable default pixel ratio\n */\nexport const renderPixelRatio = 2;\n"],"mappings":"kJAAA;AACA;AACA,GACA,MAAO,IAAMA,WAAU,CAAG,QAAbA,WAAU,CAAGC,KAAK,CAAI,CACjCA,KAAK,CAACC,QAAQ,CAAC,SAAAC,MAAM,CAAI,CACvB,GAAI,CAACA,MAAM,CAACC,MAAM,CAAE,OAEpBD,MAAM,CAACE,QAAQ,CAACC,OAAO,EAAE,CAEzB,GAAIH,MAAM,CAACI,QAAQ,CAACC,UAAU,CAAE,CAC9BC,aAAa,CAACN,MAAM,CAACI,QAAQ,CAAC,CAChC,CAAC,IAAM,0CACkBJ,MAAM,CAACI,QAAQ,YAAtC,+CAAwC,IAA7BA,SAAQ,aACjBE,aAAa,CAACF,QAAQ,CAAC,CACzB,CAAC,qDACH,CACF,CAAC,CAAC,CAEFN,KAAK,CAACK,OAAO,EAAE,CACjB,CAAC,CAED;AACA;AACA,GACA,MAAO,IAAMG,cAAa,CAAG,QAAhBA,cAAa,CAAGF,QAAQ,CAAI,CACvCA,QAAQ,CAACD,OAAO,EAAE,CAElB,0BAAkBI,MAAM,CAACC,IAAI,CAACJ,QAAQ,CAAC,6BAAE,CAApC,GAAMK,IAAG,kBACZ,GAAMC,MAAK,CAAGN,QAAQ,CAACK,GAAG,CAAC,CAC3B,GAAIC,KAAK,EAAI,MAAOA,MAAK,GAAK,QAAQ,EAAI,WAAW,EAAIA,MAAK,CAAE,CAC9DA,KAAK,CAACP,OAAO,EAAE,CACjB,CACF,CACF,CAAC,CAED;AACA;AACA,GACA,MAAO,IAAMQ,cAAa,CAAG,QAAhBA,cAAa,CAAGC,QAAQ,CAAI,CACvCA,QAAQ,CAACT,OAAO,EAAE,CAClBS,QAAQ,CAACC,gBAAgB,EAAE,CAC3BD,QAAQ,CAAG,IAAI,CACjB,CAAC,CAED;AACA;AACA,GACA,MAAO,IAAME,aAAY,CAAG,QAAfA,aAAY,CAAGC,MAAM,CAAI,2CAChBA,MAAM,aAA1B,kDAA4B,IAAjBC,MAAK,cACdA,KAAK,CAACC,MAAM,CAACC,MAAM,CAACF,KAAK,CAAC,CAC5B,CAAC,uDACH,CAAC,CAED;AACA;AACA,GACA,MAAO,IAAMG,iBAAgB,CAAG,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}